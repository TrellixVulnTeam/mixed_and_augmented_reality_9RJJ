import open3d as o3d
import mediapipe_apis as mpa
import numpy as np

'''print("Load a ply point cloud, print it, and render it")
pcd = o3d.io.read_point_cloud("./point_cloud_data/face_point_cloud.ply")
print(pcd)
print("\n")
print(np.asarray(pcd.points))
o3d.visualization.draw_geometries([pcd],
                                  zoom=0.3412,
                                  front=[0.4257, -0.2125, -0.8795],
                                  lookat=[2.6172, 2.0475, 1.532],
                                  up=[-0.0694, -0.9768, 0.2024])'''

'''f = open("./point_cloud_data/face_point_cloud.txt")
point_cloud = f.readlines()
point_cloud = point_cloud[0]
print(point_cloud)
print("\n\n")
print("Checking")
print(point_cloud[0])
o3d.visualization.draw_geometries([point_cloud])
f.close()'''

f = open("./point_cloud_data/face_point_cloud.txt")
points3d = [[0.5237702, 0.43048367, -0.030649863], [0.5224372, 0.38678294, -0.042412642], [0.52298415, 0.40383214, -0.025899634], [0.51465315, 0.3557055, -0.02600225], [0.5220309, 0.37517157, -0.043467175], [0.52164286, 0.3625183, -0.038063418], [0.5206845, 0.33458498, -0.010342786], [0.46437472, 0.34908438, 0.020865431], [0.5197943, 0.31180108, -0.0004335408], [0.519326, 0.29708248, 0.0009588109], [0.517787, 0.24994399, 0.020168373], [0.52394956, 0.43608966, -0.030376565], [0.524138, 0.4407765, -0.028364697], [0.52418005, 0.44319674, -0.025356434], [0.52435714, 0.4465191, -0.026258418], [0.524464, 0.45006925, -0.028355626], [0.5245684, 0.45533895, -0.031058101], [0.5246983, 0.46199644, -0.0314197], [0.5250064, 0.47654408, -0.02633747], [0.52264667, 0.39410755, -0.039313734], [0.5159114, 0.3966471, -0.02920529], [0.43381333, 0.31908783, 0.06757423], [0.48698562, 0.35528123, 0.011306943], [0.4789935, 0.35729218, 0.0118887285], [0.47141606, 0.3572945, 0.014191377], [0.46159664, 0.35379422, 0.021399926], [0.4937906, 0.35092765, 0.012542386], [0.47637928, 0.32692477, 0.012027899], [0.48442078, 0.32652774, 0.0122782895], [0.4687434, 0.32986256, 0.01430058], [0.46361944, 0.3349472, 0.017238261], [0.45529836, 0.36137384, 0.024426328], [0.49482438, 0.5017436, -0.02033946], [0.46189997, 0.34705418, 0.023850124], [0.43189573, 0.36621195, 0.06075671], [0.4462611, 0.356442, 0.033938687], [0.48293695, 0.39490202, -0.0048300517], [0.5136772, 0.4299795, -0.029189078], [0.5154331, 0.4418417, -0.02706994], [0.50348836, 0.4363931, -0.025025606], [0.49678102, 0.44367617, -0.019971706], [0.50787544, 0.4446279, -0.023896322], [0.5018637, 0.44807118, -0.019010672], [0.48735863, 0.46522763, -0.012640607], [0.5158819, 0.38741967, -0.0416104], [0.51445115, 0.37668794, -0.04243925], [0.45013598, 0.32496363, 0.022465698], [0.49788508, 0.3661717, -0.0006656813], [0.49784678, 0.39267108, -0.022077164], [0.4971751, 0.38807428, -0.018926268], [0.45884153, 0.3994709, 0.0059016263], [0.5145342, 0.3648277, -0.035524823], [0.46842253, 0.30756843, 0.010361984], [0.4575561, 0.3142652, 0.016267523], [0.44090068, 0.29530945, 0.055503212], [0.50335836, 0.3113944, 0.0021958633], [0.49184978, 0.32925546, 0.0140905315], [0.4808855, 0.4560653, -0.008489152], [0.44222987, 0.47520864, 0.059600413], [0.5040817, 0.39824083, -0.020144435], [0.5107378, 0.4009916, -0.022190265], [0.48974615, 0.4545353, -0.009324501], [0.49325526, 0.4534725, -0.011553738], [0.45257685, 0.30833784, 0.021639097], [0.4979597, 0.39900357, -0.01874686], [0.4833932, 0.30577853, 0.0056026904], [0.48150045, 0.2967038, 0.0059536635], [0.4723162, 0.26079077, 0.029133996], [0.44678625, 0.30093977, 0.0364077], [0.47750497, 0.277161, 0.017410217], [0.44505745, 0.32214028, 0.030465642], [0.4393866, 0.320812, 0.04807608], [0.5144361, 0.4367617, -0.029053958], [0.5059815, 0.4413365, -0.024929134], [0.49942794, 0.44593573, -0.02022581], [0.5061764, 0.40049335, -0.019008957], [0.4916174, 0.45406774, -0.010468852], [0.49516758, 0.45399854, -0.016555648], [0.49414062, 0.45310172, -0.011829447], [0.50790584, 0.391074, -0.029993124], [0.50321347, 0.44787768, -0.017964562], [0.5094312, 0.44554096, -0.021333441], [0.5165341, 0.4440389, -0.024265334], [0.5143768, 0.47735697, -0.025962839], [0.5147882, 0.4624081, -0.030619048], [0.5151398, 0.45535073, -0.03015048], [0.515596, 0.45016235, -0.027153093], [0.5161348, 0.44713607, -0.02515482], [0.50236857, 0.4502965, -0.018815383], [0.5013131, 0.4513402, -0.0207485], [0.49970916, 0.45414233, -0.022879308], [0.49821115, 0.45834893, -0.022127017], [0.48997593, 0.43266535, -0.015606602], [0.43292585, 0.42255118, 0.082720816], [0.52282697, 0.39843792, -0.030233216], [0.4984222, 0.45206133, -0.0148984], [0.4969434, 0.45238125, -0.016155923], [0.51328427, 0.4057335, -0.02390914], [0.5010501, 0.40652195, -0.014676524], [0.5120886, 0.4034271, -0.02304839], [0.48962188, 0.37443614, 0.0007041217], [0.47685647, 0.38337362, 0.0019147834], [0.49618974, 0.39435998, -0.01536491], [0.45298535, 0.2754022, 0.041432023], [0.4587804, 0.2860247, 0.026364354], [0.4650502, 0.2993701, 0.013761752], [0.49434352, 0.47039306, -0.018186644], [0.50018996, 0.29660273, 0.0017671366], [0.49678355, 0.2739213, 0.011858147], [0.493169, 0.25320148, 0.021751463], [0.4651047, 0.3567151, 0.017906632], [0.44706535, 0.37038895, 0.027639113], [0.49802938, 0.34683365, 0.014070886], [0.45458788, 0.34033924, 0.024200534], [0.5032742, 0.3573734, -0.0024207935], [0.5024833, 0.38570133, -0.02894583], [0.43891868, 0.3809299, 0.0346946], [0.45260084, 0.37563708, 0.018998025], [0.46277744, 0.37676197, 0.0108966585], [0.47770306, 0.37303376, 0.007508513], [0.4888488, 0.36712402, 0.006394164], [0.4972746, 0.36019862, 0.0051790853], [0.51322985, 0.33884674, -0.0076388596], [0.44064146, 0.40326217, 0.028316999], [0.44777328, 0.34002972, 0.028778281], [0.518844, 0.39410985, -0.038862213], [0.49900234, 0.37488854, -0.0060820407], [0.42965388, 0.3718531, 0.087191515], [0.50332725, 0.3524896, 0.005167949], [0.49563894, 0.39692324, -0.00785908], [0.45919278, 0.3483267, 0.025281856], [0.5019811, 0.380294, -0.024937104], [0.43593597, 0.4489621, 0.07343501], [0.4980473, 0.343136, 0.016854078], [0.5080556, 0.37121046, -0.031586662], [0.45887533, 0.48880917, 0.013490392], [0.45987487, 0.50595444, 0.024668846], [0.43311504, 0.41340998, 0.05554478], [0.4490961, 0.4774037, 0.026141094], [0.4354781, 0.34216166, 0.057116713], [0.49298236, 0.51535285, -0.018332584], [0.5198397, 0.39836887, -0.029669423], [0.49226707, 0.38490522, -0.004753406], [0.43950725, 0.36090186, 0.04162641], [0.4718863, 0.3512239, 0.015683416], [0.47877797, 0.35141158, 0.013647913], [0.493233, 0.4567499, -0.015413811], [0.4424588, 0.42612457, 0.02597157], [0.50855863, 0.53083044, -0.019391995], [0.48305604, 0.52238595, -0.00031985875], [0.47212622, 0.51608926, 0.010648047], [0.5185348, 0.2726552, 0.010110144], [0.5262456, 0.5311391, -0.022226507], [0.48550344, 0.3498559, 0.01338476], [0.4917815, 0.34698826, 0.014615376], [0.495859, 0.34492788, 0.016588856], [0.44195166, 0.34013367, 0.037304435], [0.49106827, 0.3371942, 0.014792555], [0.4842531, 0.33584714, 0.013817806], [0.47790086, 0.33609948, 0.014242293], [0.47128746, 0.33862057, 0.015956875], [0.46686965, 0.3420214, 0.01822059], [0.43033642, 0.34304053, 0.07974184], [0.46736574, 0.35019597, 0.0184558], [0.52327836, 0.41298816, -0.025735382], [0.49730146, 0.4236863, -0.018587414], [0.5037678, 0.39559266, -0.022343392], [0.5123919, 0.41574848, -0.025269678], [0.5202805, 0.32430744, -0.0022935662], [0.4699968, 0.5000815, 0.002711117], [0.4809407, 0.5080319, -0.0075765713], [0.5079497, 0.519734, -0.027421648], [0.45056587, 0.49391782, 0.04241015], [0.4959196, 0.3403462, 0.0161496], [0.5086076, 0.35548416, -0.01336076], [0.5259424, 0.51963264, -0.029882329], [0.49481478, 0.52742493, -0.011650069], [0.4360958, 0.43804547, 0.049173072], [0.50861424, 0.44824636, -0.02218624], [0.5075193, 0.45049503, -0.024342125], [0.50653726, 0.45459396, -0.026789209], [0.5056409, 0.46083108, -0.026847837], [0.5032511, 0.4745877, -0.023147129], [0.49667782, 0.45138857, -0.014727081], [0.49429533, 0.4507862, -0.014644514], [0.49187195, 0.44959804, -0.014282688], [0.48387146, 0.4437647, -0.011441209], [0.45306438, 0.42660275, 0.009284126], [0.5084313, 0.34734288, -0.004354161], [0.5039478, 0.3322099, 0.012650366], [0.4992248, 0.33591616, 0.015403678], [0.4982756, 0.45027438, -0.014282469], [0.4523899, 0.45667142, 0.015125235], [0.5104458, 0.3283161, 0.002612193], [0.4988675, 0.488401, -0.021368092], [0.5213443, 0.3528626, -0.028502619], [0.51384526, 0.34758633, -0.017357994], [0.5210256, 0.3439424, -0.018936228], [0.50382197, 0.37308696, -0.016224345], [0.52564156, 0.5056694, -0.031895414], [0.5253075, 0.49009138, -0.029235492], [0.5118098, 0.49128014, -0.027420774], [0.4794827, 0.47263274, -0.0090563465], [0.4893392, 0.40776306, -0.007488633], [0.48837927, 0.48247558, -0.015361486], [0.4703259, 0.41012183, -0.004175043], [0.48171687, 0.42057335, -0.008404813], [0.4636863, 0.43098125, -0.0012418326], [0.50916135, 0.5062974, -0.02929993], [0.4994447, 0.38150495, -0.012060015], [0.47252882, 0.48418307, -0.0035855477], [0.48353803, 0.493906, -0.011644428], [0.47258317, 0.45980626, -0.005030044], [0.44478053, 0.445905, 0.024710102], [0.462397, 0.4652058, 0.0024762154], [0.44069877, 0.459835, 0.040712196], [0.47520533, 0.43758246, -0.0070989276], [0.5039283, 0.36512676, -0.009358749], [0.50524616, 0.38949394, -0.031118857], [0.50036776, 0.39544743, -0.02363059], [0.5081126, 0.38030037, -0.035819616], [0.49731603, 0.3234455, 0.011601022], [0.4843774, 0.31876594, 0.010896245], [0.47335163, 0.31912285, 0.011279955], [0.4641825, 0.3228636, 0.014202402], [0.45779398, 0.3299055, 0.018710159], [0.45356548, 0.35205123, 0.028437028], [0.43139267, 0.3896063, 0.05850036], [0.45964277, 0.36467147, 0.01951083], [0.4675478, 0.36578912, 0.014289525], [0.4779457, 0.364567, 0.010835114], [0.4880752, 0.3608211, 0.009570731], [0.49603447, 0.3555076, 0.01006426], [0.5013653, 0.35033292, 0.010015886], [0.43127558, 0.3975549, 0.087907635], [0.500906, 0.3994896, -0.02027053], [0.50886756, 0.36303473, -0.021321945], [0.51058334, 0.3873053, -0.037476555], [0.5152865, 0.39373207, -0.035482176], [0.5109192, 0.39026573, -0.034001164], [0.5033826, 0.40337193, -0.018384581], [0.51654303, 0.39399463, -0.03772122], [0.5174756, 0.39801472, -0.029440966], [0.50091934, 0.3425572, 0.015553794], [0.50543404, 0.34310386, 0.010417323], [0.5077508, 0.34269267, 0.0044945385], [0.46414587, 0.3446402, 0.02061788], [0.45954004, 0.34085593, 0.021371305], [0.5281274, 0.35484397, -0.026157923], [0.5786026, 0.34088928, 0.020335523], [0.52954143, 0.3956195, -0.029275328], [0.60719526, 0.3085835, 0.0669589], [0.55608976, 0.3504053, 0.010958106], [0.5642563, 0.35139555, 0.011401639], [0.57191294, 0.35051563, 0.013639892], [0.58172417, 0.34531203, 0.020781055], [0.54910696, 0.3470949, 0.012245616], [0.5647042, 0.32022578, 0.011634715], [0.5564908, 0.32127833, 0.012031309], [0.57271546, 0.32196805, 0.013902665], [0.5783791, 0.32634312, 0.016668431], [0.5883795, 0.35264337, 0.023798572], [0.5561879, 0.49778938, -0.020787235], [0.5810513, 0.33833247, 0.023350483], [0.612305, 0.35526857, 0.060147252], [0.59704995, 0.34659722, 0.03323193], [0.5623602, 0.38968357, -0.005351515], [0.5337495, 0.42829108, -0.02948068], [0.5328289, 0.44047272, -0.027277855], [0.544254, 0.4330101, -0.025452118], [0.5513062, 0.43922025, -0.020463377], [0.5404535, 0.4420077, -0.024344044], [0.5465976, 0.44444528, -0.019509898], [0.56169426, 0.45971507, -0.01314495], [0.5289846, 0.3865354, -0.04167859], [0.5295979, 0.37571335, -0.042524014], [0.59116125, 0.31458908, 0.021928877], [0.5455299, 0.3630948, -0.001012691], [0.5470923, 0.38926437, -0.022510149], [0.54744875, 0.38459012, -0.019351136], [0.58677506, 0.39117512, 0.005141344], [0.5288375, 0.36393213, -0.035685375], [0.5712566, 0.29949817, 0.010108105], [0.5827863, 0.30471396, 0.015786406], [0.5983567, 0.2854393, 0.054918915], [0.5363208, 0.3088081, 0.0022721896], [0.54936606, 0.32527435, 0.013895774], [0.56765187, 0.4496924, -0.009054959], [0.6078831, 0.46518964, 0.058888238], [0.5413929, 0.3955222, -0.02057622], [0.5350053, 0.39923134, -0.022398835], [0.5587709, 0.44902834, -0.009919498], [0.55533737, 0.448457, -0.012000645], [0.58741486, 0.2981485, 0.021222485], [0.5474545, 0.39557052, -0.019166516], [0.5559741, 0.30006492, 0.005493198], [0.5572771, 0.290709, 0.005768686], [0.5641624, 0.25477874, 0.028951589], [0.5928736, 0.29099596, 0.03582559], [0.56004673, 0.27134633, 0.017144255], [0.59603035, 0.31137612, 0.029924123], [0.6016855, 0.31021792, 0.04753211], [0.53344953, 0.43523496, -0.02929643], [0.5421001, 0.43823087, -0.025393613], [0.54885995, 0.44183728, -0.020769073], [0.539449, 0.39805558, -0.019245869], [0.5569314, 0.44875818, -0.010977357], [0.55344224, 0.44940564, -0.016904162], [0.55454636, 0.4482208, -0.0122508835], [0.53704196, 0.38894072, -0.030290673], [0.5452889, 0.44448894, -0.018477697], [0.5390128, 0.44318122, -0.021734692], [0.53189147, 0.44276616, -0.0244577], [0.5356804, 0.4758873, -0.026066404], [0.5345281, 0.46093506, -0.030758092], [0.5338482, 0.4539374, -0.030348927], [0.5332105, 0.44884482, -0.027351126], [0.5324551, 0.44597822, -0.02534927], [0.5460938, 0.44683447, -0.019155966], [0.54718757, 0.44778597, -0.02115539], [0.54889345, 0.45032427, -0.023202807], [0.5506321, 0.4543567, -0.022401204], [0.5575293, 0.42779452, -0.016144289], [0.61443955, 0.41183844, 0.08205385], [0.5501171, 0.4479925, -0.01532032], [0.5515388, 0.4480899, -0.01653719], [0.53280044, 0.4042744, -0.024075959], [0.54496443, 0.4034175, -0.014988517], [0.5338006, 0.4018367, -0.023250025], [0.55434287, 0.3702705, 0.00025658598], [0.56769586, 0.37746698, 0.0013468403], [0.54888386, 0.39072114, -0.01583384], [0.5846576, 0.26697084, 0.04106347], [0.57966447, 0.2775392, 0.025922328], [0.5740833, 0.29086086, 0.013487927], [0.55502313, 0.46598774, -0.018588927], [0.53853023, 0.2936173, 0.0018136682], [0.54048634, 0.27092382, 0.011859697], [0.54267716, 0.24999341, 0.021632574], [0.57832015, 0.3489443, 0.01726184], [0.5971433, 0.36087218, 0.026961233], [0.5446492, 0.34355754, 0.013828661], [0.5878106, 0.33097544, 0.023652392], [0.5396108, 0.3549922, -0.002712848], [0.5420586, 0.38295132, -0.029264629], [0.6059184, 0.37052995, 0.03406298], [0.59180474, 0.36677033, 0.018266676], [0.58149236, 0.3691679, 0.010282531], [0.5662137, 0.3673187, 0.007033413], [0.55469036, 0.36282027, 0.0059956918], [0.545804, 0.35700363, 0.004791349], [0.5284625, 0.3378835, -0.0077154925], [0.6054382, 0.39287186, 0.027493583], [0.594523, 0.3299902, 0.02805489], [0.5264477, 0.3936385, -0.0388793], [0.54497045, 0.3719083, -0.0064661554], [0.6148088, 0.36099258, 0.0866416], [0.53927875, 0.35011715, 0.0049153785], [0.54965633, 0.39320263, -0.008223346], [0.58383507, 0.3392714, 0.024756847], [0.54215074, 0.37757125, -0.02526294], [0.61281013, 0.43846616, 0.072793566], [0.54447377, 0.3398154, 0.01667271], [0.53556716, 0.3693466, -0.03179623], [0.5913772, 0.48037264, 0.012787531], [0.591472, 0.49776065, 0.023979863], [0.6136718, 0.4024545, 0.054842833], [0.60083985, 0.46779937, 0.025425177], [0.6071404, 0.33150476, 0.056499], [0.55861515, 0.5112029, -0.018673427], [0.5257489, 0.39792162, -0.02971683], [0.5523318, 0.38091648, -0.005190196], [0.60414296, 0.3504516, 0.040984467], [0.571136, 0.34431064, 0.015193712], [0.5641587, 0.3453799, 0.013214393], [0.5554748, 0.4518326, -0.015850848], [0.60482895, 0.4159047, 0.025144242], [0.5438556, 0.528743, -0.019700615], [0.5689343, 0.51705235, -0.0009115537], [0.5796356, 0.5093012, 0.010003099], [0.55729306, 0.34476548, 0.013037795], [0.55088174, 0.34279576, 0.014366721], [0.54675287, 0.34132344, 0.016315674], [0.6004437, 0.32958677, 0.03664961], [0.55094206, 0.33298665, 0.014547887], [0.5575592, 0.33056372, 0.013421516], [0.564037, 0.32964978, 0.013785741], [0.57091737, 0.33107919, 0.01551722], [0.5756442, 0.33380234, 0.017753525], [0.61228913, 0.33232206, 0.07910387], [0.5756404, 0.34259468, 0.017890727], [0.5497154, 0.4198298, -0.019015098], [0.54150724, 0.39285296, -0.022639638], [0.53422, 0.414053, -0.025482617], [0.58087265, 0.49304342, 0.002028796], [0.5702541, 0.50231564, -0.008139235], [0.54395634, 0.5175574, -0.027728897], [0.6003892, 0.48471883, 0.04165728], [0.5463848, 0.33677155, 0.015881885], [0.534163, 0.3538624, -0.013538314], [0.55737245, 0.5236008, -0.012065139], [0.6120374, 0.42728353, 0.048524193], [0.53990304, 0.4459069, -0.022590267], [0.5410538, 0.4479444, -0.024603488], [0.5422294, 0.4518665, -0.027087478], [0.54344434, 0.457999, -0.027038317], [0.54650044, 0.47156483, -0.023423737], [0.55193126, 0.44687524, -0.015324874], [0.55415833, 0.4458785, -0.015232387], [0.55640936, 0.44437337, -0.014932755], [0.5640701, 0.43797684, -0.012122827], [0.59415483, 0.4175883, 0.008422966], [0.5338308, 0.34567907, -0.0045619956], [0.5375035, 0.32985938, 0.0124382535], [0.54259765, 0.3328823, 0.015254751], [0.5503392, 0.44603887, -0.01477815], [0.5963336, 0.44744113, 0.014401424], [0.5304765, 0.32692263, 0.0026387146], [0.5515463, 0.4847986, -0.021754438], [0.52845114, 0.3466102, -0.017384375], [0.5398947, 0.3706568, -0.016505819], [0.5387672, 0.48940027, -0.027604068], [0.5699523, 0.46653202, -0.009572091], [0.5567485, 0.40319535, -0.008011329], [0.5616213, 0.47745284, -0.015838122], [0.575886, 0.40328732, -0.0048659393], [0.56516314, 0.41501927, -0.008996368], [0.58368576, 0.4232162, -0.002020278], [0.5422083, 0.5041957, -0.02945066], [0.5448333, 0.3784746, -0.0124478955], [0.57741857, 0.47737512, -0.0042000227], [0.56691647, 0.4884298, -0.012106176], [0.5761458, 0.4528352, -0.0057320297], [0.60352814, 0.4358302, 0.023797778], [0.5866125, 0.45714033, 0.001766092], [0.6085088, 0.44946635, 0.03991796], [0.5724393, 0.4310875, -0.007862804], [0.5393689, 0.36278448, -0.009652263], [0.539645, 0.3870002, -0.03138856], [0.54485136, 0.39230183, -0.02389677], [0.5362011, 0.37837395, -0.036088936], [0.543409, 0.3201236, 0.01140659], [0.55603695, 0.31328464, 0.010704373], [0.56714076, 0.311922, 0.010991618], [0.5767522, 0.3143977, 0.013778974], [0.5838771, 0.3205556, 0.01819041], [0.58965945, 0.34271833, 0.02778484], [0.6140802, 0.3786074, 0.057920583], [0.5841928, 0.3564822, 0.018873842], [0.5761266, 0.35866585, 0.0137671465], [0.5655626, 0.35880083, 0.010372631], [0.55520654, 0.356301, 0.009253322], [0.5469993, 0.35207462, 0.009708212], [0.54135275, 0.34763345, 0.009820471], [0.61461926, 0.38682434, 0.087242395], [0.54457587, 0.39638367, -0.020608496], [0.5343118, 0.36126193, -0.021508811], [0.53416646, 0.38569105, -0.037653375], [0.52990633, 0.39263391, -0.035628505], [0.53406817, 0.38860515, -0.034162182], [0.5424474, 0.40056697, -0.01866284], [0.52872604, 0.3931147, -0.037802037], [0.5280324, 0.3972889, -0.029523088], [0.54146343, 0.33965582, 0.015352899], [0.5368232, 0.3409396, 0.010278547], [0.5342919, 0.34098428, 0.0043233237], [0.57858676, 0.33611003, 0.020201143], [0.5829166, 0.3317417, 0.020683998]]
points3d = np.array(points3d)
pcd = o3d.geometry.PointCloud()
pcd.points = o3d.utility.Vector3dVector(points3d)
o3d.visualization.draw_geometries([pcd])

pcd.estimate_normals()
pcd.orient_normals_to_align_with_direction([0,0,-10])
#pcd.orient_normals_consistent_tangent_plane(100)
o3d.visualization.draw_geometries([pcd], point_show_normal=True)

#alpha shape reconstruction
alpha = 0.05
#print(f”alpha={alpha:.3f}“)
mesh = o3d.geometry.TriangleMesh.create_from_point_cloud_alpha_shape(pcd, alpha)
mesh.compute_vertex_normals()
o3d.visualization.draw_geometries([mesh], mesh_show_back_face=True)

#ball pivoting reconstructions
#print(type(mesh))
radii = [0.005, 0.01, 0.02, 0.04]
mesh = o3d.geometry.TriangleMesh.create_from_point_cloud_ball_pivoting(pcd, o3d.utility.DoubleVector(radii))
mesh.compute_vertex_normals()
#print(mesh.triangle_normals)
o3d.visualization.draw_geometries([mesh], mesh_show_back_face=True)

#poisson surface reconstruction
mesh, densities = o3d.geometry.TriangleMesh.create_from_point_cloud_poisson(pcd, depth=9)
mesh.compute_vertex_normals()
o3d.visualization.draw_geometries([mesh], mesh_show_back_face=True)
